<!DOCTYPE html>
<html lang="ar" dir="rtl" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>لوحة الإدارة – العيادة المدرسية الذكية</title>

  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" rel="stylesheet" />
  <link rel="stylesheet" href="assets/css/style.css" />
</head>

<body data-page="admin">
  <div class="app-shell fade-in" style="min-height:100vh;display:flex;flex-direction:column;gap:18px;">

    <!-- AppBar -->
    <header class="app-header glass" style="padding:14px 20px;display:flex;justify-content:space-between;align-items:center;">
      <div style="display:flex;align-items:center;gap:10px;">
        <div class="brand-mark" style="
          width:40px;height:40px;border-radius:14px;
          background:linear-gradient(135deg,#ffb347,#ff6b6b);
          display:flex;align-items:center;justify-content:center;
          font-weight:700;font-size:1rem;">
          AD
        </div>
        <div>
          <div style="font-weight:600;">لوحة الإدارة</div>
          <div style="font-size:0.8rem;color:var(--text-muted);">
            مؤشرات، تقارير، صلاحيات، حوكمة صحية مدرسية
          </div>
        </div>
      </div>

      <div style="display:flex;align-items:center;gap:8px;">
        <button class="icon-btn" id="theme-toggle">
          <span class="material-symbols-rounded">brightness_6</span>
        </button>
        <button class="icon-btn danger" onclick="home()">
          <span class="material-symbols-rounded">logout</span>
        </button>
      </div>
    </header>

    <!-- Layout -->
    <main style="flex:1;display:grid;grid-template-columns:2fr 1.4fr;gap:16px;">

      <!-- يسار: KPIs + مخطط مبسط + حالات حسب الصف -->
      <section style="display:flex;flex-direction:column;gap:12px;">

        <!-- KPIs -->
        <div class="glass card" style="padding:14px;">
          <h2 style="font-size:1rem;margin-bottom:8px;">مؤشرات اليوم</h2>
          <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:8px;">
            <div class="glass" style="padding:10px;border-radius:var(--radius-md);text-align:center;">
              <div style="font-size:0.8rem;color:var(--text-muted);">إجمالي الحالات</div>
              <div style="font-size:1.4rem;font-weight:700;">24</div>
            </div>
            <div class="glass" style="padding:10px;border-radius:var(--radius-md);text-align:center;">
              <div style="font-size:0.8rem;color:var(--text-muted);">حالات حرجة</div>
              <div style="font-size:1.4rem;font-weight:700;color:var(--danger);">3</div>
            </div>
            <div class="glass" style="padding:10px;border-radius:var(--radius-md);text-align:center;">
              <div style="font-size:0.8rem;color:var(--text-muted);">متوسط الاستجابة</div>
              <div style="font-size:1.4rem;font-weight:700;">7 د</div>
            </div>
            <div class="glass" style="padding:10px;border-radius:var(--radius-md);text-align:center;">
              <div style="font-size:0.8rem;color:var(--text-muted);">زيارات افتراضية</div>
              <div style="font-size:1.4rem;font-weight:700;">5</div>
            </div>
          </div>
        </div>

        <!-- توزيع الحالات حسب الصف -->
        <div class="glass card" style="padding:14px;flex:1;">
          <h2 style="font-size:1rem;margin-bottom:8px;">توزيع الحالات حسب الصف</h2>
          <div style="display:flex;flex-direction:column;gap:6px;font-size:0.9rem;">
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <span>الصف الرابع</span>
              <div style="flex:1;margin:0 8px;height:6px;border-radius:999px;background:rgba(255,255,255,0.06);">
                <div style="width:60%;height:100%;border-radius:999px;background:linear-gradient(90deg,#7b5cff,#a08cff);"></div>
              </div>
              <span>9 حالات</span>
            </div>
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <span>الصف الخامس</span>
              <div style="flex:1;margin:0 8px;height:6px;border-radius:999px;background:rgba(255,255,255,0.06);">
                <div style="width:40%;height:100%;border-radius:999px;background:linear-gradient(90deg,#4f8cff,#7b5cff);"></div>
              </div>
              <span>6 حالات</span>
            </div>
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <span>الصف السادس</span>
              <div style="flex:1;margin:0 8px;height:6px;border-radius:999px;background:rgba(255,255,255,0.06);">
                <div style="width:30%;height:100%;border-radius:999px;background:linear-gradient(90deg,#ffb347,#ff6b6b);"></div>
              </div>
              <span>4 حالات</span>
            </div>
          </div>
        </div>

      </section>

      <!-- يمين: صلاحيات + إدارة النظام -->
      <section style="display:flex;flex-direction:column;gap:12px;">

        <!-- مصفوفة الصلاحيات -->
        <div class="glass card" style="padding:14px;">
          <h2 style="font-size:1rem;margin-bottom:8px;">مصفوفة الصلاحيات</h2>
          <div class="table-wrapper" style="font-size:0.85rem;">
            <table>
              <thead>
                <tr>
                  <th>الدور</th>
                  <th>قراءة الحالات</th>
                  <th>تعديل</th>
                  <th>طوارئ</th>
                  <th>تقارير</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>الطالب</td>
                  <td>✔ (حالاته فقط)</td>
                  <td>✔ (أعراضه)</td>
                  <td>✖</td>
                  <td>✖</td>
                </tr>
                <tr>
                  <td>ولي الأمر</td>
                  <td>✔ (أبنائه)</td>
                  <td>✖</td>
                  <td>✖</td>
                  <td>✖</td>
                </tr>
                <tr>
                  <td>التمريض</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✖</td>
                </tr>
                <tr>
                  <td>الطبيب</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔</td>
                  <td>✔ (طبية)</td>
                </tr>
                <tr>
                  <td>الإدارة</td>
                  <td>✔</td>
                  <td>✔ (صلاحيات)</td>
                  <td>✔ (بروتوكول)</td>
                  <td>✔ (حوكمة)</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- إدارة النظام -->
        <div class="glass card" style="padding:14px;flex:1;">
          <h2 style="font-size:1rem;margin-bottom:8px;">إدارة النظام</h2>
          <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px;font-size:0.9rem;">
            <button class="primary-btn" onclick="go('nurse-dashboard.html')">لوحة التمريض</button>
            <button class="primary-btn" onclick="go('doctor.html')">لوحة الطبيب</button>
            <button class="primary-btn" onclick="go('parent.html')">واجهة ولي الأمر</button>
            <button class="primary-btn" onclick="go('student-self-report.html')">واجهة الطالب</button>
            <button class="primary-btn" onclick="go('emergency-flow.html')">مسار الطوارئ</button>
            <button class="primary-btn" onclick="alert('تقرير شهري (محاكاة)')">تقرير شهري</button>
          </div>
        </div>

      </section>

    </main>

  </div>

  <script src="assets/js/theme.js"></script>
<script src="assets/js/app.js"></script>

</body>
</html>
