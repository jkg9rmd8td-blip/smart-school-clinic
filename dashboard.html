<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<title>Post-MVP Clinical Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="stylesheet" href="assets/css/app.css"/>
</head>

<body>

<header>
  <div class="container">
    <h1>لوحة العيادة — Post-MVP</h1>
    <p style="color:#aaa;font-size:13px">
      AI Clinical Decision Support (Non-Diagnostic)
    </p>
  </div>
</header>

<main class="container">

<section class="card">
<h2>إدخال حالة صحية</h2>

<table>
<tr><td>الحرارة</td><td><input id="temp" value="38.7"></td></tr>
<tr><td>SpO₂</td><td><input id="spo2" value="93"></td></tr>
<tr><td>النبض</td><td><input id="hr" value="118"></td></tr>

<tr>
<td>الأعراض</td>
<td>
<select id="symptoms" multiple>
<option value="headache">صداع</option>
<option value="cough">سعال</option>
<option value="breath">ضيق تنفس</option>
<option value="dizzy">دوخة</option>
</select>
</td>
</tr>

<tr>
<td>تاريخ مرضي</td>
<td>
<select id="history">
<option value="none">لا يوجد</option>
<option value="asthma">ربو</option>
<option value="heart">قلب</option>
</select>
</td>
</tr>
</table>

<br>
<button onclick="run()">تحليل الحالة</button>
</section>

<section class="card">
<h2>نتيجة التحليل</h2>
<div id="out"></div>
</section>

</main>

<script src="assets/js/ai-core.js"></script>
<script>
function run(){
  const data = {
    temp: +temp.value,
    spo2: +spo2.value,
    hr: +hr.value,
    symptoms: [...symptoms.selectedOptions].map(o=>o.value),
    history: history.value
  };

  const r = analyzeCase(data);

  out.innerHTML = `
    <p><b>Risk Score:</b> ${r.score}</p>
    <p><b>التصنيف:</b> <span class="badge ${r.color}">${r.level}</span></p>
    <p><b>الإجراء:</b> ${r.action}</p>
    <p><b>أسباب القرار:</b></p>
    <ul>${r.factors.map(f=>`<li>${f}</li>`).join("")}</ul>
  `;
}
</script>

</body>
</html>
